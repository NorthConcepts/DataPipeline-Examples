{
  "__class__":"com.northconcepts.datapipeline.foundations.pipeline.DataMappingPipeline",
  "name":null,
  "description":null,
  "input":{
    "__class__":"com.northconcepts.datapipeline.foundations.pipeline.input.CsvPipelineInput",
    "fieldSeparator":",",
    "startingQuote":"\"",
    "endingQuote":"\"",
    "lineSeparators":"\\n,\\r\\n,\\r",
    "allowMultiLineText":false,
    "allowQuoteInField":false,
    "trimFields":true,
    "skipEmptyRows":false,
    "charset":"UTF-8",
    "fieldNamesInFirstRow":true,
    "fileSource":{
      "__class__":"com.northconcepts.datapipeline.foundations.file.LocalFileSource",
      "name":null,
      "path":"example/data/input/call-center-inbound-call.csv"
    }
  },
  "sourceEntity":{
    "name":"Raw",
    "description":null,
    "allowExtraFieldsInValidation":true,
    "allowExtraFieldsInMapping":true,
    "addMissingOptionalFields":false,
    "fields":[
      {
        "name":"event_type",
        "description":null,
        "type":"STRING",
        "required":true,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "minimumLength":null,
        "maximumLength":25,
        "allowBlank":false,
        "pattern":null
      },
      {
        "name":"id",
        "description":null,
        "type":"STRING",
        "required":true,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "minimumLength":null,
        "maximumLength":null,
        "allowBlank":false,
        "pattern":null
      },
      {
        "name":"agent_id",
        "description":null,
        "type":"STRING",
        "required":true,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "minimumLength":null,
        "maximumLength":null,
        "allowBlank":false,
        "pattern":null
      },
      {
        "name":"phone_number",
        "description":null,
        "type":"STRING",
        "required":true,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "minimumLength":9,
        "maximumLength":null,
        "allowBlank":false,
        "pattern":null
      },
      {
        "name":"start_time",
        "description":null,
        "type":"STRING",
        "required":true,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "minimumLength":null,
        "maximumLength":null,
        "allowBlank":false,
        "pattern":null
      },
      {
        "name":"end_time",
        "description":null,
        "type":"STRING",
        "required":false,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "minimumLength":null,
        "maximumLength":null,
        "allowBlank":false,
        "pattern":null
      },
      {
        "name":"disposition",
        "description":null,
        "type":"STRING",
        "required":false,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "minimumLength":null,
        "maximumLength":null,
        "allowBlank":false,
        "pattern":null
      }
    ],
    "validations":[]
  },
  "targetEntity":{
    "name":"Processed",
    "description":null,
    "allowExtraFieldsInValidation":true,
    "allowExtraFieldsInMapping":true,
    "addMissingOptionalFields":false,
    "fields":[
      {
        "name":"Event",
        "description":null,
        "type":"STRING",
        "required":true,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "minimumLength":null,
        "maximumLength":25,
        "allowBlank":false,
        "pattern":null
      },
      {
        "name":"Call ID",
        "description":null,
        "type":"INT",
        "required":true,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "precision":null,
        "scale":null,
        "minimum":null,
        "maximum":null,
        "pattern":null
      },
      {
        "name":"Agent ID",
        "description":null,
        "type":"INT",
        "required":true,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "precision":null,
        "scale":null,
        "minimum":null,
        "maximum":null,
        "pattern":null
      },
      {
        "name":"Caller Number",
        "description":null,
        "type":"STRING",
        "required":true,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "minimumLength":9,
        "maximumLength":null,
        "allowBlank":false,
        "pattern":null
      },
      {
        "name":"Call Start Time",
        "description":null,
        "type":"DATETIME",
        "required":true,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "pattern":null,
        "minimum":null,
        "minimumClass":null,
        "maximum":null,
        "maximumClass":null
      },
      {
        "name":"Call End Time",
        "description":null,
        "type":"DATETIME",
        "required":true,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":null,
        "allowedValues":[],
        "pattern":null,
        "minimum":null,
        "minimumClass":null,
        "maximum":null,
        "maximumClass":null
      },
      {
        "name":"Disposition",
        "description":null,
        "type":"STRING",
        "required":true,
        "position":null,
        "limitToAllowedValues":false,
        "defaultValueExpression":"'UNKNOWN'",
        "allowedValues":[],
        "minimumLength":null,
        "maximumLength":null,
        "allowBlank":false,
        "pattern":null
      }
    ],
    "validations":[]
  },
  "output":{
    "__class__":"com.northconcepts.datapipeline.foundations.pipeline.output.ExcelPipelineOutput",
    "providerType":"POI_XSSF",
    "sheetName":null,
    "sheetIndex":-1,
    "firstRowIndex":0,
    "firstColumnIndex":0,
    "autofitColumns":false,
    "autoFilterColumns":false,
    "fieldNamesInFirstRow":true,
    "fileSink":{
      "__class__":"com.northconcepts.datapipeline.foundations.file.LocalFileSink",
      "name":null,
      "path":"data/output/test.xlsx",
      "append":false
    }
  },
  "multithreaded":true,
  "dataMapping":{
    "name":null,
    "description":null,
    "sourceEntity":null,
    "conditions":[],
    "fieldMappings":[
      {
        "fieldName":"Event",
        "defaultValueExpression":null,
        "condition":null,
        "sourceExpression":"source.event_type"
      },
      {
        "fieldName":"Call ID",
        "defaultValueExpression":null,
        "condition":null,
        "sourceExpression":"source.id"
      },
      {
        "fieldName":"Agent ID",
        "defaultValueExpression":null,
        "condition":null,
        "sourceExpression":"toInt(source.agent_id)"
      },
      {
        "fieldName":"Caller Number",
        "defaultValueExpression":null,
        "condition":null,
        "sourceExpression":"source.phone_number"
      },
      {
        "fieldName":"Call Start Time",
        "defaultValueExpression":null,
        "condition":null,
        "sourceExpression":"parseDate(source.start_time, 'yyyy-MM-dd HH:mm')"
      },
      {
        "fieldName":"Call End Time",
        "defaultValueExpression":"${target.Call Start Time}",
        "condition":null,
        "sourceExpression":"parseDate(source.end_time, 'yyyy-MM-dd HH:mm')"
      },
      {
        "fieldName":"Disposition",
        "defaultValueExpression":null,
        "condition":null,
        "sourceExpression":"source.disposition"
      }
    ],
    "targetEntity":null
  }
}